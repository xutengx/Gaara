jQuery.extend({regexp_base:{tel:/^((1[3,5,8][0-9])|(14[5,7])|(17[0,6,7,8]))\d{8}$/,email:/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/,phone:/^(0\d{2,3})?-?([2-9]\d{6,7})(-\d{1,5})?$/,hot_line:/^(400|800)-(\d{3})-(\d{4})?$/,qq:/^[1-9]\d{4,9}$/,account:/^[a-zA-Z][a-zA-Z0-9_]{4,17}$/,alpha:/^[a-zA-Z][a-zA-Z0-9_]+$/,md5:/^[a-z0-9]{32}$/,password:/^(.){6,18}$/,money:/^[0-9]+([.][0-9]{1,2})?$/,number:/^\-?[0-9]*\.?[0-9]*$/,numeric:/^\d+$/,url:/^http(s?):\/\/([\w-]+\.)+[\w-]+(\/[\w\- \.\/?%&=]*)?/,cid:/^\d{15}$|^\d{17}(\d|X|x)$/,
    zip:/^\d{6}$/,address:/^(.){0,64}$/,"int":/^[-\+]?\d+$/,"float":/^[-\+]?\d+(\.\d+)?$/,letter:/^[A-Za-z]+$/,chinese:/^[\u4E00-\u9FA5]+$/,chinese_name:/^[\u4E00-\u9FA5]{2,5}$/,name:/^[\u4E00-\u9FA5\uf900-\ufa2d\w]+$/,file_name:/^[^\/:*?"<>|,\\]+$/,uuid:/^[a-f0-9]{8}(-[a-f0-9]{4}){3}-[a-f0-9]{12}$/,business_license:/^\d{13}$|^\d{14}([0-9]|X|x)$|^\d{6}(N|n)(A|a|B|b)\d{6}(X|x)$/},getinfo_base:function(){console.log($.regexp_base)}});
$.fn.extend({submitData_base:function(f,k){f=f||"submitData";var m=-1==f.indexOf("/")?__url__(f):f;k=k||function(c){0==c.state?alert(c.msg):c.state?alert("ok!"):console.log(c)};var h=function(c){var b=c.attr("rule");if(b)b=b.split("|msg:");else return!0;if($.regexp_base[b[0]]){if(!$.regexp_base[b[0]].test(c.val()))return b[1]?alert(b[1]):alert(c.attr("name")+"\u4e0d\u5408\u6cd5!"),!1}else{var d=b[0].replace(/\/\//g,"/");try{var g=eval(d)}catch(e){return console.log(e+" \u81ea\u5b9a\u4e49\u6821\u9a8c\u89c4\u5219: "+
    d+" \u65e0\u6548!"),!0}if(!g.test(c.val()))return b[1]?alert(b[1]):alert(c.attr("name")+"\u4e0d\u5408\u6cd5!"),!1}return!0};$(this).click(function(){var c=$(this).parents("form"),b=new FormData,d={},g={},e={},f=c.find("input"),l=!0;f.each(function(a){switch(this.type){case "text":case "password":d[this.name]=this.value;break;case "radio":$(this).prop("checked")?g[this.name]=$(this).filter(":checked").val():g.hasOwnProperty(this.name)||(g[this.name]="");break;case "file":"undefined"!=typeof $(this)[0].files[0]&&
b.append(this.name,$(this)[0].files[0]);break;case "checkbox":e.hasOwnProperty(this.name)||(e[this.name]=[]),$(this).prop("checked")&&e[this.name].push($(this).filter(":checked").val())}});for(var a in e){if(d.hasOwnProperty(a)){if(-1!=e[a].indexOf("other")){if(!h(f.filter("[type=text][name="+a+"]")))return!1;e[a][e[a].indexOf("other")]="other:"+d[a]}delete d[a]}if(""==e[a])return alert("\u591a\u9009\u9879"+a+"\u4e0d\u80fd\u7559\u7a7a\u54e6!"),!1;b.append(a,e[a])}for(a in g){if(d.hasOwnProperty(a)){if("other"==
    g[a]){if(!h(f.filter("[type=text][name="+a+"]")))return!1;g[a]="other:"+d[a]}delete d[a]}if(""==g[a])return alert("\u5355\u9009\u9879"+a+"\u4e0d\u80fd\u7559\u7a7a\u54e6!"),!1;b.append(a,g[a])}for(a in d){if(!h(f.filter("[type=text][name="+a+"]")))return!1;b.append(a,d[a])}c.find("textarea").each(function(a){h($(this))||(l=!1);b.append(this.name,this.value)});if(0==l)return!1;c.find("select").each(function(a){b.append(this.name,this.value)});$.ajax({url:m,data:b,processData:!1,contentType:!1,type:"post",
    dataType:"json",success:function(a){k(a)}})})}});