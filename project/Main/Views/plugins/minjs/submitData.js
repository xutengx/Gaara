$.fn.extend({submitData_base:function(g,h){g=g||"submitData";var k=-1==g.indexOf("/")?__url__(g):g;h=h||function(c){0==c.state?alert(c.msg):c.state?alert("ok!"):console.log(c)};$(this).click(function(){var c=$(this).parents("form"),e=new FormData,b={},f={},d={};c.find("input").each(function(a){switch(this.type){case "text":case "password":b[this.name]=this.value;break;case "radio":$(this).prop("checked")?f[this.name]=$(this).filter(":checked").val():f.hasOwnProperty(this.name)||(f[this.name]="");
    break;case "file":"undefined"!=typeof $(this)[0].files[0]&&e.append(this.name,$(this)[0].files[0]);break;case "checkbox":d.hasOwnProperty(this.name)||(d[this.name]=[]),$(this).prop("checked")&&d[this.name].push($(this).filter(":checked").val())}});for(var a in d)b.hasOwnProperty(a)&&(-1!=d[a].indexOf("other")&&(d[a][d[a].indexOf("other")]=b[a]),delete b[a]),e.append(a,d[a]);for(a in f)b.hasOwnProperty(a)&&("other"==f[a]&&(f[a]=b[a]),delete b[a]),e.append(a,f[a]);for(a in b)e.append(a,b[a]);c.find("textarea").each(function(a){e.append(this.name,
    this.value)});c.find("select").each(function(a){e.append(this.name,this.value)});$.ajax({url:k,data:e,processData:!1,contentType:!1,type:"post",dataType:"json",success:function(a){h(a)}})})}});